<!--
    Documentation :
        Ce template Jinja attend les paramètres suivants :
        - aucun paramètre requis
-->

<!-- Styles spécifiques pour les clients -->
<link rel="stylesheet" href="{{ url_for('static', filename='clients/css/clients.css') }}">

<!-- Scripts spécifiques pour les clients -->
<script src="{{ url_for('static', filename='clients/js/clients.js') }}"></script>

<!-- Template de recherche de clients -->
<div class="clients-search-container">
    <!-- Formulaire de recherche unifié -->
    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h5 class="card-title mb-0">
                <i class="fas fa-search me-2"></i>
                Recherche de clients
            </h5>
        </div>
        <div class="card-body">
            {% from '_macros.html' import csrf_field %}
            <form id="client-search-form" class="row g-3">
                {{ csrf_field() }}
                <!-- Champ de recherche principal -->
                <div class="col-md-8">
                    <label for="search-term" class="form-label">Terme de recherche</label>
                    <input type="text" class="form-control" id="search-term" name="search_term" 
                           placeholder="Tapez au moins 3 caractères..." minlength="3">
                    <div class="form-text">Recherche à partir de 3 caractères</div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="search-inactive" name="search-inactive" value="true">
                        <label class="form-check-label" for="search-inactive">
                            Inclure les clients, mails, téléphones et adresses inactifs
                        </label>
                    </div>
                </div>
                
                <!-- Type de recherche -->
                <div class="col-md-4">
                    <label for="search-type" class="form-label">Type de recherche</label>
                    <div id="search-type" class="search-type-options">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="search_type" id="type-part" value="part" checked>
                            <label class="form-check-label" for="type-part">
                                Particulier
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="search_type" id="type-pro" value="pro">
                            <label class="form-check-label" for="type-pro">
                                Professionnel
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="search_type" id="type-mail" value="mail">
                            <label class="form-check-label" for="type-mail">
                                Email
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="search_type" id="type-telephone" value="telephone">
                            <label class="form-check-label" for="type-telephone">
                                Téléphone
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="search_type" id="type-adresse" value="adresse">
                            <label class="form-check-label" for="type-adresse">
                                Adresse
                            </label>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Résultats de recherche -->
    <div id="search-results" class="d-none">
        <div class="card">
            <div class="card-header bg-info text-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-list me-2"></i>
                    Résultats de recherche
                    <span id="results-count" class="badge bg-light text-dark ms-2">0</span>
                </h5>
            </div>
            <div class="card-body p-0">
                <div id="results-list" class="list-group list-group-flush">
                    <!-- Les résultats seront injectés ici -->
                </div>
            </div>
        </div>
    </div>

    <!-- État de chargement -->
    <div id="search-loading" class="text-center p-4 d-none">
        <div class="spinner-border text-primary">
            <span class="visually-hidden">Recherche en cours...</span>
        </div>
        <p class="mt-2 text-muted">Recherche en cours...</p>
    </div>

    <!-- Message si aucun résultat -->
    <div id="no-results" class="alert alert-warning d-none">
        <i class="fas fa-exclamation-triangle me-2"></i>
        Aucun client trouvé avec ces critères de recherche.
    </div>
</div>