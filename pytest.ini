# Configuration pytest pour les tests ACFC
# =========================================

[tool:pytest]
# Répertoires de tests
testpaths = tests

# Patterns de fichiers de test
python_files = test_*.py *_test.py

# Patterns de classes de test
python_classes = Test*

# Patterns de fonctions de test
python_functions = test_*

# Options par défaut
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes

# Marqueurs personnalisés
markers =
    unit: Tests unitaires
    integration: Tests d'intégration
    auth: Tests d'authentification
    user: Tests utilisateur
    admin: Tests administrateur
    slow: Tests lents
    database: Tests nécessitant une base de données

# Répertoires à ignorer
norecursedirs = 
    .git
    .tox
    __pycache__
    *.egg-info
    dist
    build
    venv
    env

# Configuration de coverage (si pytest-cov est installé)
# addopts = --cov=app_acfc --cov-report=html --cov-report=term

# Variables d'environnement pour les tests
env = 
    TESTING = true
    FLASK_ENV = testing
    DB_HOST = localhost
    DB_USER = test_user
    DB_PASSWORD = test_password
    DB_NAME = test_acfc
