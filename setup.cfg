# Configuration des Tests ACFC
# ============================

[tool:pytest]
# Configuration principale
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Marqueurs personnalisés
markers =
    unit: Tests unitaires rapides
    integration: Tests d'intégration
    auth: Tests d'authentification
    user: Tests des fonctionnalités utilisateur
    admin: Tests des fonctionnalités administrateur
    slow: Tests lents (>1s)
    database: Tests nécessitant une base de données
    security: Tests de sécurité
    api: Tests d'API REST
    ui: Tests d'interface utilisateur
    smoke: Tests de fumée critiques
    regression: Tests de non-régression

# Options par défaut
addopts = 
    --strict-markers
    --strict-config
    --verbose
    --tb=short
    --color=yes
    --durations=10
    --maxfail=5
    -ra

# Filtres de warnings
filterwarnings =
    error
    ignore::UserWarning
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Options de coverage
# Utilisation avec: pytest --cov
# [coverage:run]
# source = app_acfc
# omit = 
#     */tests/*
#     */venv/*
#     */__pycache__/*
#     */migrations/*
#     */typings/*

# [coverage:report]
# precision = 2
# show_missing = true
# skip_covered = false

# [coverage:html]
# directory = htmlcov
